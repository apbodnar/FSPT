<!DOCTYPE html>
<html>
<head>
<title>Ping Pong Path Tracing</title>
<script type="text/javascript" src="gl-matrix-min.js"></script>
<style>
  body{ text-align: center; margin: 0; overflow: hidden; }
  canvas{ border: none; }
</style>
<script id="shader-fs" type="x-shader/x-fragment">
  precision mediump float;
  varying vec2 coords;
  uniform int mode;
  uniform sampler2D tex;
  void main(void) {
    if(mode == 0){
      gl_FragColor = vec4(vec3(abs(coords),1.0) - texture2D(tex,coords*0.5 + 0.5).rgb,1);
    } else {
      gl_FragColor = texture2D(tex,coords*0.5 + 0.5);
    }
  }
</script>

<script id="shader-vs" type="x-shader/x-vertex">
  attribute vec3 corner;
  varying vec2 coords;
  void main(void) {
    coords = corner.xy;
    gl_Position = vec4(corner, 1.0);
  }
</script>

<script src="fspt.js" type="text/javascript"></script>
</head>


<body onload="webGLStart();">
  <canvas id="trace" style="border: none;"></canvas>
</body>

</html>
